<app-header></app-header>
<div class="min-h-[100vh] mt-12 bg-gray-50 mb-16 px-4 py-6 ">
  <!-- Header -->
  
  <div class="w-full btn-bg-color from-pink-600 to-pink-500 text-white rounded-xl shadow-lg p-4 flex justify-between items-center">
    <h2 class="text-xl font-bold">Withdrawal</h2>
    <button (click)="navigateToAddAmount()" class="bg-white text-black text-sm font-semibold px-4 py-1 rounded-full shadow hover:bg-gray-100">
      Add Amount
    </button>
  </div>

  <!-- User Card -->
  <div class="bg-white shadow rounded-lg mx-2 mt-4 overflow-hidden">
    <div class="bg-black text-white text-center p-3">
      <p class="font-semibold">Vinod</p>
      <p class="text-sm">+91 9575259525</p>
    </div>
    <div class="flex items-center gap-3 p-4">
      <img src="/assets/images/amount-wallet.svg" alt="wallet" class="w-10 h-10" />
      <div>
        <p class="text-gray-800 font-semibold">â‚¹ 5</p>
        <p class="text-gray-500 text-sm">Current Balance</p>
      </div>
    </div>
  </div>

  <!-- Support Section -->
  <div class="bg-white shadow rounded-lg mx-2 mt-4 p-4">
    <p class="text-gray-600">Call or Whatsapp for Withdraw Related Queries</p>
    <div class="flex items-center gap-3 mt-2" (click)="openWhatsApp()">
      <img src="/assets/images/whatsapp.png" alt="whatsapp" class="w-6 h-6" />
      <div>
        <p class="text-green-600 font-semibold">+91 9575259525</p>
        <p class="text-gray-500 text-sm">07:00 To 11:05</p>
      </div>
    </div>
  </div>

  <!-- Withdraw Form -->
  <div class="mx-4 mt-5 space-y-3">
    <!-- Amount Input -->
    <input
      type="number"
      placeholder="Enter Amount (Minimum Withdraw 1000)"
      [(ngModel)]="withdraw.amount"
      name="amount"
      class="w-full rounded-full border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2"
    />

    <!-- Mode Selection -->
    <select
      [(ngModel)]="withdraw.mode"
      name="mode"
      class="w-full rounded-full border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2"
    >
      <option value="">Select your mode</option>
      <option value="upi">UPI</option>
      <option value="bank">Bank Transfer</option>
      <option value="wallet">Wallet</option>
    </select>

    <!-- Phone -->
    <input
      type="tel"
      placeholder="Enter Phone Number"
      [(ngModel)]="withdraw.phone"
      name="phone"
      class="w-full rounded-full border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2"
    />

    <!-- ðŸ‘‡ Conditional Fields for UPI -->
    <div *ngIf="withdraw.mode === 'upi'" class="space-y-3">
      <input
        type="text"
        placeholder="Enter Account Holder Name"
        [(ngModel)]="withdraw.name"
        name="upiName"
        class="w-full rounded-full border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2"
      />
      <input
        type="text"
        placeholder="Enter UPI ID (e.g. username@upi)"
        [(ngModel)]="withdraw.upiId"
        name="upiId"
        class="w-full rounded-full border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2"
      />
    </div>

    <!-- ðŸ‘‡ Conditional Fields for Bank -->
    <div *ngIf="withdraw.mode === 'bank'" class="space-y-3">
      <input
        type="text"
        placeholder="Enter Account Holder Name"
        [(ngModel)]="withdraw.name"
        name="bankName"
        class="w-full rounded-full border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2"
      />
      <input
        type="text"
        placeholder="Enter Account Number"
        [(ngModel)]="withdraw.accountNumber"
        name="accountNumber"
        class="w-full rounded-full border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2"
      />
      <input
        type="text"
        placeholder="Enter IFSC Code"
        [(ngModel)]="withdraw.ifsc"
        name="ifsc"
        class="w-full rounded-full border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2"
      />
    </div>

    <!-- Withdraw Button -->
    <button
      (click)="submitWithdrawal()"
      class="w-full bg-green-600 text-white rounded-full py-3 mt-2 hover:bg-green-700 transition"
    >
      Withdraw Now
    </button>
  </div>

</div>
<app-footer></app-footer>